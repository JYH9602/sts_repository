<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>CEW ëŒ€ì‹œë³´ë“œ</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/gh/joungkyun/font-d2coding/d2coding.css" rel="stylesheet" type="text/css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js" defer></script>
  <style>
    body { margin:0; font-family:'D2Coding', monospace; background:#000; color:#ddd; overflow-y:scroll; }

    /* ğŸš€ ë¹¨ê°„ ë ˆì´ì € ëŠë‚Œ ìŠ¤í¬ë¡¤ë°” */
    ::-webkit-scrollbar { width: 10px; }
    ::-webkit-scrollbar-track { background: #111; }
    ::-webkit-scrollbar-thumb {
      background: linear-gradient(180deg, #ff0000, #990000);
      border-radius: 5px;
      box-shadow: 0 0 10px #ff0000, 0 0 20px #ff3333;
    }
    ::-webkit-scrollbar-thumb:hover {
      background: linear-gradient(180deg, #ff3333, #cc0000);
      box-shadow: 0 0 15px #ff0000, 0 0 30px #ff3333;
    }

    .sidebar { position:fixed; top:0; left:0; width:240px; height:100%; background:#000; color:#fff;
      padding:20px 10px; border-right:1px solid #333; overflow-y:auto; }
    .logo-wrapper { text-align:center; margin-bottom:30px; cursor:pointer; }
    .logo-wrapper img { width:140px; }
    .menu { list-style:none; padding:0; margin:0; }
    .menu > li { margin:8px 0; font-size:16px; color:#fff; cursor:pointer; transition:0.3s; }
    .menu > li:hover { color:#ff0000; }
    .toggle { float:right; display:inline-block; width:22px; height:22px; border-radius:50%;
      background:#111; color:#ff0000; font-weight:bold; font-size:14px; text-align:center; line-height:22px;
      margin-left:5px; box-shadow: 0 0 5px #ff0000, 0 0 10px #ff3333; }
    .submenu { list-style:none; padding-left:20px; margin:5px 0; display:none; }
    .submenu li { font-size:14px; margin:4px 0; cursor:pointer; color:#bbb; }
    .submenu li:hover { color:#ff0000; }
    .content { margin-left:260px; padding:80px 20px 20px 20px; }
    .header { background:#000; color:#fff; padding:10px 20px; display:flex;
      justify-content:flex-end; align-items:center; border-bottom:1px solid #333; gap:15px;
      position:fixed; top:0; left:240px; right:0; z-index:1000; }
    #timer, #loginUser { color:#ffff00; }
    #userRole { color:#ffff00; text-shadow:0 0 5px #ffff00, 0 0 10px #ffea00; }
    .btn-danger { background:#ff0000; border:none; }

    /* ê³µí†µ ë°•ìŠ¤ */
    .box { border:1px solid #004080; background:#111; padding:10px; color:#ddd; }
    table { width:100%; font-size:12px; border-collapse:collapse; color:#ddd; }
    th,td { border-bottom:1px solid #444; padding:3px; text-align:center; }

    /* ë¡¤ë§ */
    .rolling-box { border:1px solid #004080; height:30px; overflow:hidden;
      margin:5px 0; font-size:13px; padding:2px 5px; background:#111; }
    .rolling-text { display:flex; flex-direction:column; animation:rollUp 8s linear infinite; }
    @keyframes rollUp { 0%{transform:translateY(0);} 100%{transform:translateY(-100%);} }

    /* ë¶„ì„ í˜ì´ì§€ */
    .dashboard { display:grid; grid-template-rows:60px auto 1fr; grid-gap:8px; min-height:800px; padding:8px; }
    .top-filter { background:#111; border-radius:8px; padding:8px; }
    .charts { display:grid; grid-template-columns:1fr 1fr; grid-gap:8px; align-items:stretch; }
    .tables { display:grid; grid-template-columns:1fr 1fr; grid-gap:8px; }
    .card { background:#111; border:none; border-radius:8px; padding:8px; color:#ddd; }
    .card canvas { width:100% !important; height:auto !important; max-height:none !important; }
    .btn-dark-custom { background:#222; border:none; color:#fff; padding:4px 10px; border-radius:5px; font-size:13px; }
    .btn-dark-custom:hover { background:#444; }
    .table-dark { --bs-table-bg:#161b22; --bs-table-striped-bg:#1c2128; --bs-table-hover-bg:#21262d;
      color:#ddd; font-size:14px; }
    .table-wrapper { max-height:200px; overflow-y:auto; }
    h5 { font-size:14px; margin-bottom:6px; }
    .circle { width:15px; height:15px; border-radius:50%; display:inline-block; margin:0 3px; }
    .green { background:green; } .yellow{background:yellow;} .red{background:red;} .gray{background:gray;}
    .battery { width:100px; height:25px; border:2px solid #fff; position:relative; margin:auto; }
    .battery::after { content:""; position:absolute; right:-6px; top:5px; width:4px; height:15px; background:#fff; }
    .battery-level { height:100%; width:70%; background:limegreen; }
    
    .packet-box {
  		background:#111;
  		color:#0f0;
 		 padding:10px;
 		 font-size:13px;
 		 white-space:pre;
  		border-radius:5px;
  		display:none;
}
	.badge-lg {
  		font-size: 14px;     /* ê¸€ì í¬ê¸° */
  		padding: 6px 12px;   /* ìœ„ì•„ë˜, ì¢Œìš° ì—¬ë°± */
  		border-radius: 6px;  /* ë‘¥ê¸€ê²Œ */
}

/* ë¡œê·¸ì•„ì›ƒëœ í–‰ íšŒìƒ‰ ì²˜ë¦¬ */
	.logged-out {
  		background-color: #444 !important;
  		color: #aaa !important;
}
	.logged-out td, 
	.logged-out th {
  		color: #aaa !important;
}


  </style>
</head>
<body>
  <!-- ì‚¬ì´ë“œë°” -->
  <div class="sidebar">
    <div class="logo-wrapper" onclick="loadContent('ë³´ì•ˆ ì´ë²¤íŠ¸ ìš”ì•½')">
      <img src="/images/logo.png" alt="ë³´ì•ˆ ë¡œê³ " class="logo" id="eagleLogo">
    </div>
    <ul class="menu">
      <li class="has-sub">
        <span class="menu-title">ëŒ€ì‹œë³´ë“œ</span><span class="toggle">+</span>
        <ul class="submenu">
          <li onclick="loadContent('ë³´ì•ˆ ì´ë²¤íŠ¸ ìš”ì•½')">ë³´ì•ˆ ì´ë²¤íŠ¸ ìš”ì•½</li>
          <li onclick="loadContent('ë³´ì•ˆ ì´ë²¤íŠ¸ ë¶„ì„')">ë³´ì•ˆ ì´ë²¤íŠ¸ ë¶„ì„</li>
          <li onclick="loadContent('ë¦¬ì†ŒìŠ¤ ì‚¬ìš©í˜„í™©')">ë¦¬ì†ŒìŠ¤ ì‚¬ìš©í˜„í™©</li>
        </ul>
      </li>
      <li class="has-sub"><span class="menu-title">ì •ì±…ê´€ë¦¬</span><span class="toggle">+</span>
        <ul class="submenu"><li onclick="loadContent('ì •ì±… ê´€ë¦¬ í˜ì´ì§€')">ì •ì±… ê´€ë¦¬ í˜ì´ì§€</li></ul>
      </li>
      <li class="has-sub"><span class="menu-title">ë¡œê·¸ì„¼í„°</span><span class="toggle">+</span>
        <ul class="submenu">
          <li onclick="loadContent('íƒì§€ ë¡œê·¸')">íƒì§€ ë¡œê·¸</li>
          <li onclick="loadContent('ì•Œë¦¼ ë¡œê·¸')">ì•Œë¦¼ ë¡œê·¸</li>
          <li onclick="loadContent('ì°¨ë‹¨ ì´ë ¥ ë¡œê·¸')">ì°¨ë‹¨ ì´ë ¥ ë¡œê·¸</li>
          <li onclick="loadContent('ê´€ë¦¬ì í™œë™ ë¡œê·¸')">ê´€ë¦¬ì í™œë™ ë¡œê·¸</li>
        </ul>
      </li>
      <li class="has-sub"><span class="menu-title">DB ê´€ë¦¬ì„œë²„</span><span class="toggle">+</span>
        <ul class="submenu">
          <li onclick="loadContent('ë°±ì—… & ë³µêµ¬')">ë°±ì—… & ë³µêµ¬</li>
          <li onclick="loadContent('ë³´í˜¸ëŒ€ìƒ DB ê´€ë¦¬')">ë³´í˜¸ëŒ€ìƒ DB ê´€ë¦¬</li>
        </ul>
      </li>
      <li class="has-sub"><span class="menu-title">ê´€ë¦¬ì í˜ì´ì§€</span><span class="toggle">+</span>
        <ul class="submenu">
          <li onclick="loadContent('ê´€ë¦¬ì ê³„ì • ê´€ë¦¬')">ê´€ë¦¬ì ê³„ì • ê´€ë¦¬</li>
          <li onclick="loadContent('ì‚¬ìš©ì ê¶Œí•œ ê´€ë¦¬')">ì‚¬ìš©ì ê¶Œí•œ ê´€ë¦¬</li>
          <li onclick="loadContent('ì‹œìŠ¤í…œ ì •ì±… ì„¤ì •')">ì‹œìŠ¤í…œ ì •ì±… ì„¤ì •</li>
        </ul>
      </li>
      <li onclick="loadContent('ì‹œìŠ¤í…œ í™˜ê²½ ì„¤ì •')">ì‹œìŠ¤í…œ í™˜ê²½ ì„¤ì •</li>
    </ul>
  </div>

<!-- í—¤ë” -->
<div class="header">
  <span>ë¡œê·¸ì¸ ê²½ê³¼ì‹œê°„: <strong id="timer">00:00</strong></span>
  <span>ë¡œê·¸ì¸ ì•„ì´ë””: <strong id="loginUser" th:text="${user.login_id}"></strong></span>
  <span>ê¶Œí•œ: <strong id="userRole" th:text="${user.position}"></strong></span>
  <button class="btn btn-danger btn-sm" onclick="location.href='/logout'">ë¡œê·¸ì•„ì›ƒ</button>
</div>

  <!-- ë©”ì¸ -->
 <div class="content" id="mainContent"></div>


  <!-- ì •ì±… í¸ì§‘ ëª¨ë‹¬ -->
<div class="modal fade" id="policyModal" tabindex="-1">
  <div class="modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable">
    <div class="modal-content bg-dark text-white">
      <div class="modal-header">
        <h5 class="modal-title">ì •ì±… í¸ì§‘ (ì‹ ê·œ)</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        
        <!-- ê¸°ë³¸ -->
        <div class="card mb-3 bg-secondary bg-opacity-25 p-3">
          <h6>ê¸°ë³¸</h6>
          <div class="row g-2">
            <div class="col-md-4"><label class="form-label">rule_id</label><input type="text" class="form-control form-control-sm bg-dark text-white" value="CEW_BLOCK01"></div>
            <div class="col-md-4"><label class="form-label">rule_name</label><input type="text" class="form-control form-control-sm bg-dark text-white" value="ë„ë‘‘ì¡ê¸°"></div>
            <div class="col-md-2"><label class="form-label">priority</label><input type="number" class="form-control form-control-sm bg-dark text-white" value="1"></div>
            <div class="col-md-2"><label class="form-label">action</label>
              <select class="form-select form-select-sm bg-dark text-white"><option>block</option><option>pass</option></select>
            </div>
            <div class="col-md-3"><label class="form-label">level</label>
              <select class="form-select form-select-sm bg-dark text-white"><option>safe</option><option>danger</option></select>
            </div>
            <div class="col-md-3"><label class="form-label">rule_type</label>
              <select class="form-select form-select-sm bg-dark text-white"><option>pattern</option><option>behavior</option></select>
            </div>
          </div>
        </div>

        <!-- ëŒ€ìƒ / ì¡°ê±´ -->
        <div class="card mb-3 bg-secondary bg-opacity-25 p-3">
          <h6>ëŒ€ìƒ / ì¡°ê±´</h6>
          <div class="row g-2">
            <div class="col-md-3"><label class="form-label">ip_start</label><input type="text" class="form-control form-control-sm bg-dark text-white" value="192.168.1.10"></div>
            <div class="col-md-3"><label class="form-label">ip_end</label><input type="text" class="form-control form-control-sm bg-dark text-white" value="192.168.1.20"></div>
            <div class="col-md-3"><label class="form-label">port_start</label><input type="number" class="form-control form-control-sm bg-dark text-white" value="22"></div>
            <div class="col-md-3"><label class="form-label">port_end</label><input type="number" class="form-control form-control-sm bg-dark text-white" value="30"></div>
            <div class="col-md-4"><label class="form-label">block_duration (sec)</label><input type="number" class="form-control form-control-sm bg-dark text-white" value="0"></div>
            <div class="col-md-4"><label class="form-label">base_cnt</label><input type="number" class="form-control form-control-sm bg-dark text-white" value="0"></div>
          </div>
        </div>

        <!-- ìŠ¤ì¼€ì¤„ -->
        <div class="card mb-3 bg-secondary bg-opacity-25 p-3">
          <h6>ìŠ¤ì¼€ì¤„</h6>
          <div class="row g-2">
            <div class="col-md-4"><label class="form-label">effective_from</label><input type="time" class="form-control form-control-sm bg-dark text-white"></div>
            <div class="col-md-4"><label class="form-label">effective_to</label><input type="time" class="form-control form-control-sm bg-dark text-white"></div>
            <div class="col-md-4"><label class="form-label">expire_dt</label><input type="date" class="form-control form-control-sm bg-dark text-white"></div>
            <div class="col-md-4"><label class="form-label">created_by</label><input type="text" class="form-control form-control-sm bg-dark text-white" value="admin" readonly></div>
            <div class="col-md-4"><label class="form-label">updated_by</label><input type="text" class="form-control form-control-sm bg-dark text-white" value="admin" readonly></div>
          </div>
        </div>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary btn-sm" data-bs-dismiss="modal">ë‹«ê¸°</button>
        <button type="button" class="btn btn-primary btn-sm">ì €ì¥</button>
      </div>
    </div>
  </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" defer></script>
<!-- ì‚­ì œ í™•ì¸ ëª¨ë‹¬ -->
<div class="modal fade" id="deleteModal" tabindex="-1">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content bg-dark text-white">
      <div class="modal-header">
        <h5 class="modal-title">ì‚­ì œ í™•ì¸</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <p>ì •ì±…ì„ ì‚­ì œí•˜ë ¤ë©´ ì•”í˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”.</p>
        <input type="password" id="deletePassword" class="form-control form-control-sm bg-dark text-white" placeholder="ì‚­ì œ ì•”í˜¸ ì…ë ¥">
        <div id="deleteError" class="text-danger mt-2" style="display:none;">ì•”í˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.</div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary btn-sm" data-bs-dismiss="modal">ì·¨ì†Œ</button>
        <button class="btn btn-danger btn-sm" onclick="confirmDelete()">ì‚­ì œ</button>
      </div>
    </div>
  </div>
</div>
<!-- ì‚­ì œëœ í•­ëª© ë³´ê¸° ëª¨ë‹¬ -->
<div class="modal fade" id="deletedListModal" tabindex="-1">
  <div class="modal-dialog modal-lg modal-dialog-centered">
    <div class="modal-content bg-dark text-white">
      <div class="modal-header">
        <h5 class="modal-title">ì‚­ì œëœ ì •ì±… ëª©ë¡</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <table class="table table-dark table-striped text-center">
          <thead>
            <tr>
              <th>rule_id</th>
              <th>rule_name</th>
              <th>level</th>
              <th>rule_type</th>
              <th>action</th>
            </tr>
          </thead>
          <tbody id="deletedPolicyList">
            <tr><td colspan="5">ì‚­ì œëœ í•­ëª©ì´ ì—†ìŠµë‹ˆë‹¤.</td></tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<!-- íƒì§€ë¡œê·¸ ìƒì„¸ ëª¨ë‹¬ -->
<div class="modal fade" id="logDetailModal" tabindex="-1">
  <div class="modal-dialog modal-lg">
    <div class="modal-content bg-dark text-white">
      <div class="modal-header">
        <h5 class="modal-title">ìƒì„¸ ì •ë³´</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <h6>ìš”ì•½ ì •ë³´</h6>
        <ul>
          <li>ì‹œê°„: 2025-09-16 10:00</li>
          <li>ì •ì±…ëª…: SQL Injection</li>
          <li>ìœ„í—˜ë„: <span class="badge bg-danger">High</span></li>
          <li>íƒì§€ ìœ í˜•: Web Attack</li>
          <li>ì¶œë°œì§€ IP: 192.168.1.10</li>
          <li>ëª©ì ì§€ IP: 10.0.0.5</li>
        </ul>

        <h6 class="mt-3">íŒ¨í‚· í•´ì„ ë‚´ìš©</h6>
        <p><strong>HTTP ìš”ì²­:</strong> GET /login.php?id=1' OR '1'='1 HTTP/1.1</p>
        <p><strong>Host:</strong> victim.com</p>
        <p><strong>User-Agent:</strong> Mozilla/5.0 â€¦</p>

        <button class="btn btn-secondary btn-sm mt-2" onclick="togglePacket()">ì›ë³¸ íŒ¨í‚· ë³´ê¸°</button>
        <div id="packetBox" class="packet-box mt-2">
4500 003c 1c46 4000 4006 b1e6 c0a8 0001
c0a8 0067 0050 89ab 1190 0000 0000 0000
5018 ffff aaaa bbbb 4745 5420 2f6c 6f67
696e 2e70 6870 3f69 643d 3127 204f 5220
3127 3d31 2048 5454 502f 312e 31
        </div>
      </div>
    </div>
  </div>
</div>
<!-- ì•Œë¦¼ë¡œê·¸ ìƒì„¸ ëª¨ë‹¬ -->
<div class="modal fade" id="alertLogModal" tabindex="-1">
  <div class="modal-dialog modal-lg">
    <div class="modal-content bg-dark text-white">
      <div class="modal-header">
        <h5 class="modal-title">ì•Œë¦¼ ë¡œê·¸ ìƒì„¸</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <h6>ìš”ì•½ ì •ë³´</h6>
        <ul>
          <li>ì•Œë¦¼ ì‹œê°: 2025-09-16 09:50</li>
          <li>ì•Œë¦¼ ëŒ€ìƒì: admin01 (admin@test.com)</li>
          <li>ì•Œë¦¼ ë°©ì‹: Email</li>
          <li>ì•Œë¦¼ ë“±ê¸‰: ê¸´ê¸‰</li>
          <li>ê´€ë ¨ íƒì§€ ì´ë²¤íŠ¸ ID: DET-00123</li>
          <li>ì•Œë¦¼ ë‚´ìš©: ê³ ìœ„í—˜ SQL Injection íƒì§€ë¨</li>
          <li>ë°œì†¡ ìƒíƒœ: ì„±ê³µ</li>
        </ul>

        <button class="btn btn-secondary btn-sm mt-2" onclick="togglePacket()">ì›ë³¸ íŒ¨í‚· ë³´ê¸°</button>
        <div id="packetBox" class="packet-box mt-2">
ì•Œë¦¼ ë¡œê·¸ëŠ” íŒ¨í‚· ë°ì´í„°ê°€ ì—†ì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.
        </div>
      </div>
    </div>
  </div>
</div>
<!-- ì°¨ë‹¨ ì´ë ¥ ë¡œê·¸ ìƒì„¸ ëª¨ë‹¬ -->
<div class="modal fade" id="blockLogModal" tabindex="-1">
  <div class="modal-dialog modal-lg">
    <div class="modal-content bg-dark text-white">
      <div class="modal-header">
        <h5 class="modal-title">ì°¨ë‹¨ ì´ë ¥ ë¡œê·¸ ìƒì„¸</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <h6>ìš”ì•½ ì •ë³´</h6>
        <ul>
          <li>ì°¨ë‹¨ ì‹œê°: 2025-09-15 14:30</li>
          <li>ì •ì±…ëª…/ë£° ID: Port Scan Rule #12</li>
          <li>ì°¨ë‹¨ ëŒ€ìƒ: 203.0.113.77</li>
          <li>ì¶œë°œì§€: 203.0.113.77:55555</li>
          <li>ëª©ì ì§€: 10.0.0.7:22</li>
          <li>ì°¨ë‹¨ ì‚¬ìœ : ë¹„ì¸ê°€ í¬íŠ¸ ì ‘ê·¼</li>
          <li>ì°¨ë‹¨ ê²°ê³¼: <span class="badge bg-success badge-lg">ì„±ê³µ</span></li>
          <li>ì°¨ë‹¨ ì§€ì†ì‹œê°„: 10ë¶„</li>
        </ul>
      </div>
    </div>
  </div>
</div>
<script>
  // ë©”ë‰´ í† ê¸€
  document.querySelectorAll(".has-sub").forEach(menu=>{
    const toggle=menu.querySelector(".toggle");
    const title=menu.querySelector(".menu-title");
    const submenu=menu.querySelector(".submenu");
    function toggleMenu(e){ e.stopPropagation();
      submenu.style.display=(submenu.style.display==="block")?"none":"block";
      toggle.textContent=(submenu.style.display==="block")?"-":"+"; }
    toggle.addEventListener("click",toggleMenu);
    title.addEventListener("click",toggleMenu);
  });
  let rowToDelete = null;  // ì „ì—­ ë³€ìˆ˜
  let deletedPolicies = []; // ì‚­ì œëœ ì •ì±…ë“¤ì„ ë³´ê´€

  function openDeleteModal(btn) {
    rowToDelete = btn.closest("tr");
    const modal = new bootstrap.Modal(document.getElementById("deleteModal"));
    modal.show();
  }

  function loadContent(title) {
    const content = document.getElementById("mainContent");
    // --- ë³´ì•ˆ ì´ë²¤íŠ¸ ìš”ì•½ ---
    if(title==="ë³´ì•ˆ ì´ë²¤íŠ¸ ìš”ì•½"){
      content.innerHTML=`
        <h2>ë³´ì•ˆ ì´ë²¤íŠ¸ ìš”ì•½</h2>
        <div>ì‹¤ì‹œê°„ íƒì§€ ë‚´ìš©:</div>
        <div class="rolling-box"><div class="rolling-text">
          <span>[íƒì§€] SQL Injection ì°¨ë‹¨ë¨</span>
          <span>[íƒì§€] XSS ê³µê²© íƒì§€ë¨</span>
          <span>[íƒì§€] Port Scan ë°œìƒ</span>
          <span>[íƒì§€] RDP Brute Force ì°¨ë‹¨</span>
        </div></div>
        <div style="display:grid; grid-template-columns:1fr 1fr; gap:10px; margin-top:15px;">
          <div class="box"><canvas id="chart1"></canvas></div>
          <div class="box"><canvas id="chart2"></canvas></div>
        </div>
        <div style="display:grid; grid-template-columns:repeat(3,1fr); gap:10px; margin-top:15px;">
          <div class="box">ì¼ì¼ íƒì§€ ìˆœìœ„ (ì •ì±…ê¸°ë°˜)</div>
          <div class="box"><canvas id="chart3"></canvas></div>
          <div class="box">ì¼ì¼ ëˆ„ì  íƒì§€ íŒ¨í‚·ìˆ˜</div>
        </div>
        <div style="display:grid; grid-template-columns:repeat(3,1fr); gap:10px; margin-top:15px;">
          <div class="box">ì„œë²„ìƒíƒœ<br>
            <span class="circle green"></span>
            <span class="circle yellow"></span>
            <span class="circle red"></span>
            <span class="circle gray"></span>
          </div>
          <div class="box">ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰<br>
            <div class="battery"><div class="battery-level"></div></div>
          </div>
          <div class="box">ë°©í™”ë²½ ìƒíƒœ<br><strong style="color:lime;">ON</strong></div>
          <div class="box">ì—´ë ¤ ìˆëŠ” í¬íŠ¸
            <table><tr><th>í¬íŠ¸</th><th>ìƒíƒœ</th></tr>
              <tr><td>22</td><td>Open</td></tr>
              <tr><td>80</td><td>Open</td></tr>
              <tr><td>443</td><td>Open</td></tr>
            </table>
          </div>
          <div class="box">ìµœê·¼ì ‘ì†ë¡œê·¸
            <table><tr><th>ì‹œê°„</th><th>IP</th></tr>
              <tr><td>12:00</td><td>192.168.0.10</td></tr>
              <tr><td>12:05</td><td>192.168.0.11</td></tr>
            </table>
          </div>
          <div class="box">ì¼ì¼ ì´ë©”ì¼ ì•Œë¦¼í˜„í™©
            <ul>
              <li>ê´€ë¦¬ì ì•Œë¦¼ ì „ì†¡ ì™„ë£Œ</li>
              <li>ì •ì±… ì•Œë¦¼ ëŒ€ê¸°</li>
              <li>ì„œë²„ìƒíƒœ ì•Œë¦¼ ì™„ë£Œ</li>
            </ul>
          </div>
        </div>`;
      new Chart(document.getElementById('chart1'),{type:'line',
        data:{labels:["0ì‹œ","4ì‹œ","8ì‹œ","12ì‹œ","16ì‹œ","20ì‹œ"],
          datasets:[{label:"í–‰ë™ê¸°ë°˜",data:[5,7,3,8,6,9],borderColor:"red",fill:false},
                    {label:"íŒ¨í„´ê¸°ë°˜",data:[3,4,6,2,7,5],borderColor:"blue",fill:false}]}}); 
      new Chart(document.getElementById('chart2'),{type:'bar',
        data:{labels:["ì •ì±…A","ì •ì±…B","ì •ì±…C"],
          datasets:[{label:"íƒì§€ ê±´ìˆ˜",data:[12,19,7],backgroundColor:["red","orange","green"]}]}}); 
      new Chart(document.getElementById('chart3'),{type:'pie',
        data:{labels:["Critical","High","Medium","Low"],
          datasets:[{data:[5,10,15,20],backgroundColor:["red","orange","yellow","green"]}]}}); 
    }

    // --- ë³´ì•ˆ ì´ë²¤íŠ¸ ë¶„ì„ ---
    else if(title==="ë³´ì•ˆ ì´ë²¤íŠ¸ ë¶„ì„"){
      content.innerHTML=`
        <div class="dashboard">
          <div class="top-filter">
            <div class="row g-2">
              <div class="col-md-2"><select class="form-select bg-dark text-white form-select-sm">
                <option>í–‰ë™ê¸°ë°˜</option><option>íŒ¨í„´ê¸°ë°˜</option><option>ì •ì±…ê¸°ë°˜</option></select></div>
              <div class="col-md-3"><input type="date" class="form-control bg-dark text-white form-control-sm"></div>
              <div class="col-md-3"><input type="time" class="form-control bg-dark text-white form-control-sm"></div>
              <div class="col-md-2 ms-auto text-end">
                <button class="btn-dark-custom btn-sm me-2">ì ìš©</button>
                <button class="btn-dark-custom btn-sm">ì´ˆê¸°í™”</button>
              </div>
            </div>
          </div>
          <div class="charts">
            <div class="card"><h5>ì‹œê°„ëŒ€ë³„ íƒì§€</h5><canvas id="timeChart"></canvas></div>
            <div class="d-flex flex-column gap-2">
              <div class="card flex-fill"><h5>íƒì§€ TOP 10</h5><canvas id="top10Chart"></canvas></div>
              <div class="card flex-fill"><h5>ìœ„í—˜ë„ ë¶„í¬</h5><canvas id="riskChart"></canvas></div>
              <div class="card flex-fill"><h5>íƒì§€ìœ í˜• ë¹„ìœ¨</h5><canvas id="typeChart"></canvas></div>
            </div>
          </div>
          <div class="tables">
            <div class="card"><h5>ì‹œê°„ëŒ€ë³„ íƒì§€ ë¡œê·¸</h5>
              <div class="table-wrapper">
                <table class="table table-dark table-striped">
                  <thead><tr><th>ì‹œê°„</th><th>ì •ì±…</th><th>ìœ„í—˜ë„</th><th>ì¶œë°œì§€</th><th>ì¡°ì¹˜</th></tr></thead>
                  <tbody>
                    <tr><td>2025-09-13 11:50</td><td>SQL Injection</td><td>Critical</td><td>203.0.113.10</td><td>ì°¨ë‹¨</td></tr>
                    <tr><td>2025-09-13 11:45</td><td>Brute Force</td><td>High</td><td>198.51.100.5</td><td>ì°¨ë‹¨</td></tr>
                    <tr><td>2025-09-13 11:40</td><td>Port Scan</td><td>Medium</td><td>192.168.1.100</td><td>íƒì§€ë§Œ</td></tr>
                  </tbody>
                </table>
              </div>
            </div>
            <div class="card"><h5>ìœ„í—˜ë„ ë¶„í¬ (ëª©ë¡)</h5>
              <div class="table-wrapper">
                <table class="table table-dark">
                  <thead><tr><th>ìœ„í—˜ë„</th><th>ê±´ìˆ˜</th></tr></thead>
                  <tbody>
                    <tr><td>Critical</td><td>11</td></tr>
                    <tr><td>High</td><td>71</td></tr>
                    <tr><td>Medium</td><td>87</td></tr>
                    <tr><td>Low</td><td>101</td></tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>`;
      new Chart(document.getElementById('timeChart'),{type:'line',
        data:{labels:['00ì‹œ','03ì‹œ','06ì‹œ','09ì‹œ','12ì‹œ'],
          datasets:[{label:'íƒì§€ ê±´ìˆ˜',data:[3,7,5,12,9],borderColor:'red',fill:false}]}}); 
      new Chart(document.getElementById('top10Chart'),{type:'bar',
        data:{labels:['SQL Injection','Brute Force','Port Scan','XSS'],
          datasets:[{label:'íƒì§€ ê±´ìˆ˜',data:[20,15,8,5],backgroundColor:['#ff4d4d','#ff9933','#3399ff','#ffcc00']}]}}); 
      new Chart(document.getElementById('riskChart'),{type:'doughnut',
        data:{labels:['Critical','High','Medium','Low'],
          datasets:[{data:[11,71,87,101],backgroundColor:['#ff4d4d','#ff9933','#ffcc00','#3399ff']}]}}); 
      new Chart(document.getElementById('typeChart'),{type:'pie',
        data:{labels:['SQL Injection','XSS','Brute Force','Port Scan'],
          datasets:[{data:[25,15,20,10],backgroundColor:['#e74c3c','#9b59b6','#2980b9','#27ae60']}]}}); 
    }

    // --- ë¦¬ì†ŒìŠ¤ ì‚¬ìš©í˜„í™© ---
    else if(title==="ë¦¬ì†ŒìŠ¤ ì‚¬ìš©í˜„í™©"){
      content.innerHTML=`
        <h2>ë¦¬ì†ŒìŠ¤ ì‚¬ìš©í˜„í™©</h2>
        <div style="display:grid; grid-template-columns:repeat(4,1fr); gap:10px; margin-bottom:15px;">
          <div class="box text-center"><h5>CPU</h5><div id="cpuUsage" style="font-size:20px;">0%</div></div>
          <div class="box text-center"><h5>ë©”ëª¨ë¦¬</h5><div id="memoryUsage" style="font-size:20px;">0%</div></div>
          <div class="box text-center"><h5>ìŠ¤í† ë¦¬ì§€</h5><div id="storageUsage" style="font-size:20px;">0%</div></div>
          <div class="box text-center"><h5>ë„¤íŠ¸ì›Œí¬</h5><div id="networkUsage" style="font-size:20px;">0 Mbps</div></div>
        </div>
        <div style="display:grid; grid-template-columns:2fr 1fr; gap:10px; margin-bottom:15px;">
          <div class="box"><h5>ë¦¬ì†ŒìŠ¤ íŠ¸ë Œë“œ</h5><canvas id="resourceTrend"></canvas></div>
          <div class="box"><h5>ì•Œë¦¼ & ìƒíƒœ</h5>
            <ul style="font-size:13px; list-style:none; padding-left:0;">
              <li>09:10 - ìŠ¤í† ë¦¬ì§€ ì‚¬ìš©ë¥  80% ê·¼ì ‘ (ê²½ê³ )</li>
              <li>04:25 - CPU ìŠ¤íŒŒì´í¬ ê°ì§€</li>
              <li>ì–´ì œ 22:11 - ë„¤íŠ¸ì›Œí¬ RX ë¹„ì •ìƒ</li>
            </ul>
            <button class="btn-dark-custom btn-sm mt-2">ì„ê³„ì¹˜ ì´ˆê³¼ì‹œ ì´ë©”ì¼ ì•Œë¦¼</button>
            <button class="btn-dark-custom btn-sm mt-2">ìë™ ì •ì±… Â· ìŠ¤ë¡œí‹€ë§</button>
          </div>
        </div>
        <div class="box"><h5>ìƒì„¸ì •ë³´</h5><p>ë©”ëª¨ë¦¬, ìŠ¤í† ë¦¬ì§€, ë„¤íŠ¸ì›Œí¬ (í–¥í›„ ê°œë°œ ì˜ˆì •)</p></div>`;
      new Chart(document.getElementById('resourceTrend'),{type:'line',
        data:{labels:Array.from({length:12},(_,i)=>(i*5)+":00"),
          datasets:[
            {label:"CPU(%)",data:[20,40,35,60,45,70,55,65,40,50,45,60],borderColor:"red",fill:false},
            {label:"ë©”ëª¨ë¦¬(%)",data:[30,35,40,45,50,55,60,62,58,57,59,60],borderColor:"orange",fill:false},
            {label:"ë„¤íŠ¸ì›Œí¬(Mbps)",data:[100,150,120,200,180,220,210,190,170,160,180,200],borderColor:"blue",fill:false},
            {label:"ìŠ¤í† ë¦¬ì§€(%)",data:[50,52,53,54,55,56,57,58,59,60,61,62],borderColor:"green",fill:false}
          ]}}); 
      setInterval(()=>{document.getElementById("cpuUsage").innerText=Math.floor(Math.random()*100)+"%";
        document.getElementById("memoryUsage").innerText=Math.floor(Math.random()*100)+"%";
        document.getElementById("storageUsage").innerText=(40+Math.floor(Math.random()*60))+"%";
        document.getElementById("networkUsage").innerText=(100+Math.floor(Math.random()*900))+" Mbps";},3000);
    }
    // --- ì •ì±… ê´€ë¦¬ í˜ì´ì§€ ---
    else if(title==="ì •ì±… ê´€ë¦¬ í˜ì´ì§€"){
      content.innerHTML = `
        <h2>ì •ì±… ê´€ë¦¬</h2>
        <div class="box mb-3">
          <div class="row g-2">
            <div class="col-md-2"><input type="text" class="form-control form-control-sm bg-dark text-white" placeholder="rule_id, rule_name"></div>
            <div class="col-md-1"><select class="form-select form-select-sm bg-dark text-white"><option>ì „ì²´</option><option>íŒ¨í„´ê¸°ë°˜</option></select></div>
            <div class="col-md-1"><select class="form-select form-select-sm bg-dark text-white"><option>ì „ì²´</option><option>pass</option><option>block</option></select></div>
            <div class="col-md-1"><select class="form-select form-select-sm bg-dark text-white"><option>ì „ì²´</option><option>safe</option><option>danger</option></select></div>
            <div class="col-md-1"><select class="form-select form-select-sm bg-dark text-white"><option>ì „ì²´</option><option>enable</option><option>disable</option></select></div>
            <div class="col-md-1"><input type="number" class="form-control form-control-sm bg-dark text-white" value="0"></div>
            <div class="col-md-2"><input type="date" class="form-control form-control-sm bg-dark text-white"></div>
            <div class="col-md-2"><input type="date" class="form-control form-control-sm bg-dark text-white"></div>
            <div class="col-md-2">
            <div class="text">
            <button class="btn btn-primary btn-sm">í•„í„° ì ìš©</button>
            <button class="btn btn-secondary btn-sm">ì´ˆê¸°í™”</button>
          </div>
          </div>
          </div>
        </div>

        <div class="d-flex justify-content-end mb-2 gap-2">
          <button class="btn btn-success btn-sm">CSV ë‚´ë³´ë‚´ê¸°</button>
          <button class="btn btn-secondary btn-sm" data-bs-toggle="modal" data-bs-target="#deletedListModal">ì‚­ì œëœ í•­ëª© ë³´ê¸°</button>
          <button class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#policyModal">ì‹ ê·œ ì •ì±…</button>
        </div>

        <div class="table-wrapper">
          <table class="table table-dark table-striped text-center">
            <thead>
              <tr>
                <th>rule_id</th>
                <th>rule_name</th>
                <th>level</th>
                <th>rule_type</th>
                <th>action</th>
                <th>IP Range</th>
                <th>Port Range</th>
                <th>enable</th>
                <th>priority</th>
                <th>effective</th>
                <th>expire_dt</th>
                <th>ì‘ì—…</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>CEW_PASS01</td>
                <td>ë‚´ë¶€í—ˆìš©</td>
                <td><span class="badge bg-success badge-lg">safe</span></td>
                <td>pattern</td>
                <td>pass</td>
                <td>10.0.0.1 ~ 10.0.0.255</td>
                <td>80 ~ 80</td>
                <td><input type="checkbox" checked></td>
                <td>5</td>
                <td>00:00 ~ 23:59</td>
                <td>9999-12-30 00:00</td>
                <td>
                  <button class="btn-dark-custom btn-sm">ìˆ˜ì •</button>
                  <button class="btn-dark-custom btn-sm">ì´ë ¥</button>
                  <button class="btn-dark-custom btn-sm" onclick="openDeleteModal(this)">ì‚­ì œ</button>
                </td>
              </tr>
              <tr>
                <td>CEW_BLOCK02</td>
                <td>SQL Injection ì°¨ë‹¨</td>
                <td><span class="badge bg-danger badge-lg">danger</span></td>
                <td>pattern</td>
                <td>block</td>
                <td>*</td>
                <td>*</td>
                <td><input type="checkbox"></td>
                <td>2</td>
                <td>00:00 ~ 23:59</td>
                <td>9999-12-30 00:00</td>
                <td>
                  <button class="btn-dark-custom btn-sm">ìˆ˜ì •</button>
                  <button class="btn-dark-custom btn-sm">ì´ë ¥</button>
                  <button class="btn-dark-custom btn-sm" onclick="openDeleteModal(this)">ì‚­ì œ</button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      `;
    }
    // ====== íƒì§€ë¡œê·¸ =======
    else if(title === "íƒì§€ ë¡œê·¸") {
    	  content.innerHTML = `
    	    <h2>íƒì§€ ë¡œê·¸</h2>
    	    <table class="table table-dark table-bordered text-center">
    	      <thead>
    	        <tr>
    	          <th>íƒì§€ ì‹œê°</th>
    	          <th>ì •ì±…ëª…/íƒì§€ê·œì¹™</th>
    	          <th>ìœ„í—˜ë„</th>
    	          <th>íƒì§€ ìœ í˜•</th>
    	          <th>ì¶œë°œì§€ IP</th>
    	          <th>ì¶œë°œì§€ Port</th>
    	          <th>ëª©ì ì§€ IP</th>
    	          <th>ëª©ì ì§€ Port</th>
    	          <th>ì‘ì—…</th>
    	        </tr>
    	      </thead>
    	      <tbody>
    	        <tr>
    	          <td>2025-09-16 10:00</td>
    	          <td>SQL Injection</td>
    	          <td><span class="badge bg-danger badge-lg">High</span></td>
    	          <td>Web Attack</td>
    	          <td>192.168.1.10</td>
    	          <td>12345</td>
    	          <td>10.0.0.5</td>
    	          <td>80</td>
    	          <td>
    	            <button class="btn btn-sm btn-primary" data-bs-toggle="modal" data-bs-target="#logDetailModal">
    	              ìƒì„¸
    	            </button>
    	          </td>
    	        </tr>
    	      </tbody>
    	    </table>
    	  `;
    	}
 // ====== ì•Œë¦¼ ë¡œê·¸ ======
    else if(title === "ì•Œë¦¼ ë¡œê·¸") {
      content.innerHTML = `
        <h2>ì•Œë¦¼ ë¡œê·¸</h2>
        <div class="table-wrapper">
          <table class="table table-dark table-bordered text-center">
            <thead>
              <tr>
                <th>ì•Œë¦¼ ì‹œê°</th>
                <th>ì•Œë¦¼ ëŒ€ìƒì</th>
                <th>ì•Œë¦¼ ë°©ì‹</th>
                <th>ì•Œë¦¼ ë“±ê¸‰</th>
                <th>ê´€ë ¨ íƒì§€ ì´ë²¤íŠ¸ ID</th>
                <th>ì•Œë¦¼ ë‚´ìš©</th>
                <th>ë°œì†¡ ìƒíƒœ</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>2025-09-16 09:50</td>
                <td>admin01<br>(admin@test.com)</td>
                <td>Email</td>
                <td><span class="badge bg-danger badge-lg">ê¸´ê¸‰</span></td>
                <td>DET-00123</td>
                <td>ê³ ìœ„í—˜ SQL Injection íƒì§€ë¨</td>
                <td><span class="badge bg-success badge-lg">ì„±ê³µ</span></td>
              </tr>
            </tbody>
          </table>
        </div>
      `;
    }
 // ====== ì°¨ë‹¨ ì´ë ¥ ë¡œê·¸ ======
    else if(title === "ì°¨ë‹¨ ì´ë ¥ ë¡œê·¸") {
      content.innerHTML = `
        <h2>ì°¨ë‹¨ ì´ë ¥ ë¡œê·¸</h2>
        <div class="table-wrapper">
          <table class="table table-dark table-bordered text-center">
            <thead>
              <tr>
                <th>ì°¨ë‹¨ ì‹œê°</th>
                <th>ì •ì±…ëª…/ë£° ID</th>
                <th>ì°¨ë‹¨ ëŒ€ìƒ</th>
                <th>ì¶œë°œì§€ IP</th>
                <th>ì¶œë°œì§€ Port</th>
                <th>ëª©ì ì§€ IP</th>
                <th>ëª©ì ì§€ Port</th>
                <th>ì°¨ë‹¨ ì‚¬ìœ </th>
                <th>ì°¨ë‹¨ ê²°ê³¼</th>
                <th>ì°¨ë‹¨ ì§€ì†ì‹œê°„</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>2025-09-15 14:30</td>
                <td>Port Scan Rule #12</td>
                <td>203.0.113.77</td>
                <td>203.0.113.77</td>
                <td>55555</td>
                <td>10.0.0.7</td>
                <td>22</td>
                <td>ë¹„ì¸ê°€ í¬íŠ¸ ì ‘ê·¼</td>
                <td><span class="badge bg-success badge-lg">ì„±ê³µ</span></td>
                <td>10ë¶„</td>
              </tr>
            </tbody>
          </table>
        </div>
      `;
    }
 // ====== ê´€ë¦¬ì í™œë™ ë¡œê·¸ ======
    else if(title === "ê´€ë¦¬ì í™œë™ ë¡œê·¸") {
      content.innerHTML = `
        <h2>ê´€ë¦¬ì í™œë™ ë¡œê·¸</h2>
        <div class="table-wrapper">
          <table class="table table-dark table-bordered text-center">
            <thead>
              <tr>
                <th>í™œë™ ì‹œê°</th>
                <th>ê´€ë¦¬ì ID</th>
                <th>ê´€ë¦¬ì ê³„ì •</th>
                <th>ì‚¬ìš©í˜ì´ì§€</th>
                <th>ì„¸ë¶€ í™œë™ ë‚´ìš©</th>
                <th>ì ‘ì† IP</th>
                <th>ê²°ê³¼ ìƒíƒœ</th>
                <th>ë¹„ê³ </th>
              </tr>
            </thead>
            <tbody>
            <!-- ì •ìƒ í™œë™ -->
            <tr>
              <td>2025-09-15 11:00</td>
              <td>admin01</td>
              <td>ê´€ë¦¬ì ê³„ì • A</td> <!-- ì¶”ê°€ -->
              <td>ì •ì±…ê´€ë¦¬</td>
              <td>SQL Injection ì°¨ë‹¨ ì •ì±… ìˆ˜ì •</td>
              <td>192.168.1.100</td>
              <td><span class="badge bg-success badge-lg">ë¡œê·¸ì¸</span></td>
              <td>-</td>
            </tr>

            <!-- ë¡œê·¸ì•„ì›ƒëœ ê³„ì • -->
            <tr class="logged-out">
              <td>2025-09-15 11:05</td>
              <td>admin02</td>
              <td>ê´€ë¦¬ì ê³„ì • B</td> <!-- ì¶”ê°€ -->
              <td>ì‹œìŠ¤í…œí™˜ê²½ì„¤ì •</td>
              <td>ë¡œê·¸ì•„ì›ƒ</td>
              <td>192.168.1.110</td>
              <td><span class="badge bg-secondary badge-lg">ë¡œê·¸ì˜¤í”„</span></td>
              <td>-</td>
            </tr>
          </tbody>
          </table>
        </div>
      `;
    }
 // --- ë°±ì—… & ë³µêµ¬ ---
    else if (title === "ë°±ì—… & ë³µêµ¬") {
      content.innerHTML = `
        <h2>DB ë°±ì—… & ë³µêµ¬</h2>

        <!-- ë°±ì—… ì„¤ì • -->
        <div class="box mb-3">
          <h5>ë°±ì—… ì„¤ì •</h5>
          <div class="mb-2">
            <label class="form-label">DB ì„ íƒ</label>
            <select class="form-select bg-dark text-white form-select-sm" id="dbSelect">
              <option>MySQL</option>
              <option>PostgreSQL</option>
              <option>MariaDB</option>
            </select>
          </div>
          <div class="mb-2">
            <label class="form-label">ë°±ì—… ê²½ë¡œ</label>
            <input type="text" id="backupPath" class="form-control bg-dark text-white" value="/backup/db/">
          </div>
          <button class="btn btn-primary btn-sm" onclick="runBackup()">ë°±ì—… ì‹¤í–‰</button>
          <div class="progress mt-2" style="height:20px;">
            <div id="backupProgress" class="progress-bar bg-success" role="progressbar" style="width:0%;">0%</div>
          </div>
        </div>

        <!-- ë°±ì—… ìŠ¤ì¼€ì¤„ ì„¤ì • -->
        <div class="box mb-3">
          <h5>ë°±ì—… ìŠ¤ì¼€ì¤„ ì„¤ì •</h5>
          <div class="mb-2">
            <input type="radio" name="backupSchedule" value="daily"> ë§¤ì¼
            <input type="radio" name="backupSchedule" value="weekly"> ë§¤ì£¼
            <input type="radio" name="backupSchedule" value="monthly"> ë§¤ì›”
          </div>
          <button class="btn btn-secondary btn-sm" onclick="saveSchedule()">ì €ì¥</button>
          <p id="scheduleStatus" class="mt-2 text-info">ë°±ì—… ìŠ¤ì¼€ì¤„: ë¯¸ì„¤ì •</p>
        </div>

        <!-- ë³µêµ¬ ì‹¤í–‰ -->
        <div class="box">
          <h5>ë³µêµ¬ ì‹¤í–‰</h5>
          <div class="mb-2">
            <label class="form-label">ë³µêµ¬ ë‚ ì§œ</label>
            <input type="date" id="restoreDate" class="form-control bg-dark text-white">
          </div>
          <button class="btn btn-info btn-sm" onclick="runRestore()">ë³µêµ¬</button>
          <div class="mt-2">
            <label class="form-label">DB ì„ íƒ</label>
            <select class="form-select bg-dark text-white form-select-sm" id="restoreDbSelect">
              <option>MySQL</option>
              <option>PostgreSQL</option>
              <option>MariaDB</option>
            </select>
          </div>
          <div class="mt-2">
            <label class="form-label">ë³µêµ¬ ê²½ë¡œ</label>
            <input type="text" id="restorePath" class="form-control bg-dark text-white" placeholder="/backup/db/yyyy-mm-dd/">
          </div>
        </div>
      `;
    }
    
    


    // --- ì¤€ë¹„ì¤‘ ---
    else{
      content.innerHTML=`<h2>${title}</h2><p>ì¤€ë¹„ì¤‘ì¸ í˜ì´ì§€ì…ë‹ˆë‹¤.</p>`;
    }
  } 
  const deletedListModal = document.getElementById("deletedListModal");
  deletedListModal.addEventListener("show.bs.modal", () => {
    const tbody = document.getElementById("deletedPolicyList");
    tbody.innerHTML = "";

    if (deletedPolicies.length === 0) {
      tbody.innerHTML = `<tr><td colspan="5">ì‚­ì œëœ í•­ëª©ì´ ì—†ìŠµë‹ˆë‹¤.</td></tr>`;
      return;
    }

    deletedPolicies.forEach(p => {
      const row = document.createElement("tr");
      row.innerHTML = `
        <td>${p.rule_id}</td>
        <td>${p.rule_name}</td>
        <td>${p.level}</td>
        <td>${p.rule_type}</td>
        <td>${p.action}</td>
      `;
      tbody.appendChild(row);
    });
  });

  function logout(){window.location.href="index.html";}

  document.addEventListener("DOMContentLoaded", () => {
	  // ì²« í˜ì´ì§€ ë¡œë“œ ì‹œ 'ë³´ì•ˆ ì´ë²¤íŠ¸ ìš”ì•½' ë³´ì—¬ì£¼ê¸°
	  loadContent('ë³´ì•ˆ ì´ë²¤íŠ¸ ìš”ì•½');

	  // ë¡œê·¸ì¸ ê²½ê³¼ì‹œê°„ íƒ€ì´ë¨¸ ì‹œì‘
	  let seconds = 0;
	  setInterval(() => {
	    seconds++;
	    let m = String(Math.floor(seconds / 60)).padStart(2, '0');
	    let s = String(seconds % 60).padStart(2, '0');
	    const timerEl = document.getElementById("timer");
	    if (timerEl) {
	      timerEl.textContent = `${m}:${s}`;
	    }
	  }, 1000);
	});
  
  function confirmDelete() {
	  const input = document.getElementById("deletePassword").value;
	  const errorBox = document.getElementById("deleteError");

	  if (input === "admin123") {
	    errorBox.style.display = "none";

	    if (rowToDelete) {
	      // ì‚­ì œëœ ì •ì±… ë°ì´í„°ë¥¼ ì €ì¥
	      const cells = rowToDelete.querySelectorAll("td");
	      const deletedPolicy = {
	        rule_id: cells[0].innerText,
	        rule_name: cells[1].innerText,
	        level: cells[2].innerText,
	        rule_type: cells[3].innerText,
	        action: cells[4].innerText
	      };
	      deletedPolicies.push(deletedPolicy);

	      rowToDelete.remove(); // âœ… ì‹¤ì œ í…Œì´ë¸”ì—ì„œ ì‚­ì œ
	    }

	    const modal = bootstrap.Modal.getInstance(document.getElementById("deleteModal"));
	    modal.hide();
	  } else {
	    errorBox.style.display = "block";
	  }
	}
  
  function togglePacket() {
	  const box = document.getElementById("packetBox");
	  box.style.display = (box.style.display === "none" || box.style.display === "") ? "block" : "none";
	}
  
//ë°±ì—… ì‹¤í–‰ (í”„ë¡œê·¸ë ˆìŠ¤ ë°”)
  function runBackup() {
    let progress = 0;
    const bar = document.getElementById("backupProgress");
    const interval = setInterval(() => {
      if (progress >= 100) {
        clearInterval(interval);
        bar.innerText = "ì™„ë£Œ";
      } else {
        progress += 10;
        bar.style.width = progress + "%";
        bar.innerText = progress + "%";
      }
    }, 300);
  }

  // ë°±ì—… ìŠ¤ì¼€ì¤„ ì €ì¥
  function saveSchedule() {
    const selected = document.querySelector("input[name='backupSchedule']:checked");
    const status = document.getElementById("scheduleStatus");
    if (selected) {
      status.innerText = "ë°±ì—… ìŠ¤ì¼€ì¤„: " + selected.value + " ë¡œ ì €ì¥ë¨";
    } else {
      status.innerText = "ìŠ¤ì¼€ì¤„ì´ ì„ íƒë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.";
    }
  }

  // ë³µêµ¬ ì‹¤í–‰
  function runRestore() {
    const date = document.getElementById("restoreDate").value;
    const db = document.getElementById("restoreDbSelect").value;
    const path = document.getElementById("restorePath").value;

    if (!date || !path) {
      alert("ë³µêµ¬ ë‚ ì§œì™€ ê²½ë¡œë¥¼ ì…ë ¥í•˜ì„¸ìš”.");
      return;
    }

    alert(`ğŸ“‚ [${db}] ${date} ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ${path} ê²½ë¡œì—ì„œ ë³µêµ¬ ì‹¤í–‰!`);
  }

  
  </script>
</body>
</html>