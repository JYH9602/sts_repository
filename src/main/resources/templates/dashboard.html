<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>CEW ëŒ€ì‹œë³´ë“œ</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/gh/joungkyun/font-d2coding/d2coding.css" rel="stylesheet" type="text/css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body { margin:0; font-family:'D2Coding', monospace; background:#000; color:#ddd; overflow-y:scroll; }

    /* ğŸš€ ë¹¨ê°„ ë ˆì´ì € ëŠë‚Œ ìŠ¤í¬ë¡¤ë°” */
    ::-webkit-scrollbar { width: 10px; }
    ::-webkit-scrollbar-track { background: #111; }
    ::-webkit-scrollbar-thumb {
      background: linear-gradient(180deg, #ff0000, #990000);
      border-radius: 5px;
      box-shadow: 0 0 10px #ff0000, 0 0 20px #ff3333;
    }
    ::-webkit-scrollbar-thumb:hover {
      background: linear-gradient(180deg, #ff3333, #cc0000);
      box-shadow: 0 0 15px #ff0000, 0 0 30px #ff3333;
    }

    .sidebar { position:fixed; top:0; left:0; width:240px; height:100%; background:#000; color:#fff;
      padding:20px 10px; border-right:1px solid #333; overflow-y:auto; }
    .logo-wrapper { text-align:center; margin-bottom:30px; cursor:pointer; }
    .logo-wrapper img { width:140px; }
    .menu { list-style:none; padding:0; margin:0; }
    .menu > li { margin:8px 0; font-size:16px; color:#fff; cursor:pointer; transition:0.3s; }
    .menu > li:hover { color:#ff0000; }
    .toggle { float:right; display:inline-block; width:22px; height:22px; border-radius:50%;
      background:#111; color:#ff0000; font-weight:bold; font-size:14px; text-align:center; line-height:22px;
      margin-left:5px; box-shadow: 0 0 5px #ff0000, 0 0 10px #ff3333; }
    .submenu { list-style:none; padding-left:20px; margin:5px 0; display:none; }
    .submenu li { font-size:14px; margin:4px 0; cursor:pointer; color:#bbb; }
    .submenu li:hover { color:#ff0000; }
    .content { margin-left:260px; padding:80px 20px 20px 20px; }
    .header { background:#000; color:#fff; padding:10px 20px; display:flex;
      justify-content:flex-end; align-items:center; border-bottom:1px solid #333; gap:15px;
      position:fixed; top:0; left:240px; right:0; z-index:1000; }
    #timer, #loginUser { color:#ffff00; }
    #userRole { color:#ffff00; text-shadow:0 0 5px #ffff00, 0 0 10px #ffea00; }
    .btn-danger { background:#ff0000; border:none; }

    /* ê³µí†µ ë°•ìŠ¤ */
    .box { border:1px solid #004080; background:#111; padding:10px; color:#ddd; }
    table { width:100%; font-size:12px; border-collapse:collapse; color:#ddd; }
    th,td { border-bottom:1px solid #444; padding:3px; text-align:center; }

    /* ë¡¤ë§ */
    .rolling-box { border:1px solid #004080; height:30px; overflow:hidden;
      margin:5px 0; font-size:13px; padding:2px 5px; background:#111; }
    .rolling-text { display:flex; flex-direction:column; animation:rollUp 8s linear infinite; }
    @keyframes rollUp { 0%{transform:translateY(0);} 100%{transform:translateY(-100%);} }

    /* ë¶„ì„ í˜ì´ì§€ */
    .dashboard { display:grid; grid-template-rows:60px auto 1fr; grid-gap:8px; min-height:800px; padding:8px; }
    .top-filter { background:#111; border-radius:8px; padding:8px; }
    .charts { display:grid; grid-template-columns:1fr 1fr; grid-gap:8px; align-items:stretch; }
    .tables { display:grid; grid-template-columns:1fr 1fr; grid-gap:8px; }
    .card { background:#111; border:none; border-radius:8px; padding:8px; color:#ddd; }
    .card canvas { width:100% !important; height:auto !important; max-height:none !important; }
    .btn-dark-custom { background:#222; border:none; color:#fff; padding:4px 10px; border-radius:5px; font-size:13px; }
    .btn-dark-custom:hover { background:#444; }
    .table-dark { --bs-table-bg:#161b22; --bs-table-striped-bg:#1c2128; --bs-table-hover-bg:#21262d;
      color:#ddd; font-size:12px; }
    .table-wrapper { max-height:200px; overflow-y:auto; }
    h5 { font-size:14px; margin-bottom:6px; }
    .circle { width:15px; height:15px; border-radius:50%; display:inline-block; margin:0 3px; }
    .green { background:green; } .yellow{background:yellow;} .red{background:red;} .gray{background:gray;}
    .battery { width:100px; height:25px; border:2px solid #fff; position:relative; margin:auto; }
    .battery::after { content:""; position:absolute; right:-6px; top:5px; width:4px; height:15px; background:#fff; }
    .battery-level { height:100%; width:70%; background:limegreen; }
  </style>
</head>
<body>
  <!-- ì‚¬ì´ë“œë°” -->
  <div class="sidebar">
    <div class="logo-wrapper" onclick="loadContent('ë³´ì•ˆ ì´ë²¤íŠ¸ ìš”ì•½')">
      <img src="/images/logo.png" alt="ë³´ì•ˆ ë¡œê³ " class="logo" id="eagleLogo">
    </div>
    <ul class="menu">
      <li class="has-sub">
        <span class="menu-title">ëŒ€ì‹œë³´ë“œ</span><span class="toggle">+</span>
        <ul class="submenu">
          <li onclick="loadContent('ë³´ì•ˆ ì´ë²¤íŠ¸ ìš”ì•½')">ë³´ì•ˆ ì´ë²¤íŠ¸ ìš”ì•½</li>
          <li onclick="loadContent('ë³´ì•ˆ ì´ë²¤íŠ¸ ë¶„ì„')">ë³´ì•ˆ ì´ë²¤íŠ¸ ë¶„ì„</li>
          <li onclick="loadContent('ë¦¬ì†ŒìŠ¤ ì‚¬ìš©í˜„í™©')">ë¦¬ì†ŒìŠ¤ ì‚¬ìš©í˜„í™©</li>
        </ul>
      </li>
      <li class="has-sub"><span class="menu-title">ì •ì±…ê´€ë¦¬</span><span class="toggle">+</span>
        <ul class="submenu"><li onclick="loadContent('ì •ì±… ê´€ë¦¬ í˜ì´ì§€')">ì •ì±… ê´€ë¦¬ í˜ì´ì§€</li></ul>
      </li>
      <li class="has-sub"><span class="menu-title">ë¡œê·¸ì„¼í„°</span><span class="toggle">+</span>
        <ul class="submenu">
          <li onclick="loadContent('íƒì§€ ë¡œê·¸')">íƒì§€ ë¡œê·¸</li>
          <li onclick="loadContent('ì•Œë¦¼ ë¡œê·¸')">ì•Œë¦¼ ë¡œê·¸</li>
          <li onclick="loadContent('ì°¨ë‹¨ ì´ë ¥ ë¡œê·¸')">ì°¨ë‹¨ ì´ë ¥ ë¡œê·¸</li>
          <li onclick="loadContent('ê´€ë¦¬ì í™œë™ ë¡œê·¸')">ê´€ë¦¬ì í™œë™ ë¡œê·¸</li>
        </ul>
      </li>
      <li class="has-sub"><span class="menu-title">DB ê´€ë¦¬ì„œë²„</span><span class="toggle">+</span>
        <ul class="submenu">
          <li onclick="loadContent('ë°±ì—… & ë³µêµ¬')">ë°±ì—… & ë³µêµ¬</li>
          <li onclick="loadContent('ë³´í˜¸ëŒ€ìƒ DB ê´€ë¦¬')">ë³´í˜¸ëŒ€ìƒ DB ê´€ë¦¬</li>
        </ul>
      </li>
      <li class="has-sub"><span class="menu-title">ê´€ë¦¬ì í˜ì´ì§€</span><span class="toggle">+</span>
        <ul class="submenu">
          <li onclick="loadContent('ê´€ë¦¬ì ê³„ì • ê´€ë¦¬')">ê´€ë¦¬ì ê³„ì • ê´€ë¦¬</li>
          <li onclick="loadContent('ì‚¬ìš©ì ê¶Œí•œ ê´€ë¦¬')">ì‚¬ìš©ì ê¶Œí•œ ê´€ë¦¬</li>
          <li onclick="loadContent('ì‹œìŠ¤í…œ ì •ì±… ì„¤ì •')">ì‹œìŠ¤í…œ ì •ì±… ì„¤ì •</li>
        </ul>
      </li>
      <li onclick="loadContent('ì‹œìŠ¤í…œ í™˜ê²½ ì„¤ì •')">ì‹œìŠ¤í…œ í™˜ê²½ ì„¤ì •</li>
    </ul>
  </div>

<!-- í—¤ë” -->
<div class="header">
  <span>ë¡œê·¸ì¸ ê²½ê³¼ì‹œê°„: <strong id="timer">00:00</strong></span>
  <span>ë¡œê·¸ì¸ ì•„ì´ë””: <strong id="loginUser" th:text="${user.login_id}"></strong></span>
  <span>ê¶Œí•œ: <strong id="userRole" th:text="${user.position}"></strong></span>
  <button class="btn btn-danger btn-sm" onclick="location.href='/logout'">ë¡œê·¸ì•„ì›ƒ</button>
</div>

  <!-- ë©”ì¸ -->
  <div class="content" id="mainContent">
    <h2>ë³´ì•ˆ ì´ë²¤íŠ¸ ìš”ì•½</h2>
    <p>ìµœê·¼ ë³´ì•ˆ ì´ë²¤íŠ¸ í˜„í™©ì„ ìš”ì•½í•´ì„œ ë³´ì—¬ì¤ë‹ˆë‹¤.</p>
  </div>

<script>
  // ë©”ë‰´ í† ê¸€
  document.querySelectorAll(".has-sub").forEach(menu=>{
    const toggle=menu.querySelector(".toggle");
    const title=menu.querySelector(".menu-title");
    const submenu=menu.querySelector(".submenu");
    function toggleMenu(e){ e.stopPropagation();
      submenu.style.display=(submenu.style.display==="block")?"none":"block";
      toggle.textContent=(submenu.style.display==="block")?"-":"+"; }
    toggle.addEventListener("click",toggleMenu);
    title.addEventListener("click",toggleMenu);
  });

  function loadContent(title){
    const content=document.getElementById("mainContent");

    // --- ë³´ì•ˆ ì´ë²¤íŠ¸ ìš”ì•½ ---
    if(title==="ë³´ì•ˆ ì´ë²¤íŠ¸ ìš”ì•½"){
      content.innerHTML=`
        <h2>ë³´ì•ˆ ì´ë²¤íŠ¸ ìš”ì•½</h2>
        <div>ì‹¤ì‹œê°„ íƒì§€ ë‚´ìš©:</div>
        <div class="rolling-box"><div class="rolling-text">
          <span>[íƒì§€] SQL Injection ì°¨ë‹¨ë¨</span>
          <span>[íƒì§€] XSS ê³µê²© íƒì§€ë¨</span>
          <span>[íƒì§€] Port Scan ë°œìƒ</span>
          <span>[íƒì§€] RDP Brute Force ì°¨ë‹¨</span>
        </div></div>
        <div style="display:grid; grid-template-columns:1fr 1fr; gap:10px; margin-top:15px;">
          <div class="box"><canvas id="chart1"></canvas></div>
          <div class="box"><canvas id="chart2"></canvas></div>
        </div>
        <div style="display:grid; grid-template-columns:repeat(3,1fr); gap:10px; margin-top:15px;">
          <div class="box">ì¼ì¼ íƒì§€ ìˆœìœ„ (ì •ì±…ê¸°ë°˜)</div>
          <div class="box"><canvas id="chart3"></canvas></div>
          <div class="box">ì¼ì¼ ëˆ„ì  íƒì§€ íŒ¨í‚·ìˆ˜</div>
        </div>
        <div style="display:grid; grid-template-columns:repeat(3,1fr); gap:10px; margin-top:15px;">
          <div class="box">ì„œë²„ìƒíƒœ<br>
            <span class="circle green"></span>
            <span class="circle yellow"></span>
            <span class="circle red"></span>
            <span class="circle gray"></span>
          </div>
          <div class="box">ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰<br>
            <div class="battery"><div class="battery-level"></div></div>
          </div>
          <div class="box">ë°©í™”ë²½ ìƒíƒœ<br><strong style="color:lime;">ON</strong></div>
          <div class="box">ì—´ë ¤ ìˆëŠ” í¬íŠ¸
            <table><tr><th>í¬íŠ¸</th><th>ìƒíƒœ</th></tr>
              <tr><td>22</td><td>Open</td></tr>
              <tr><td>80</td><td>Open</td></tr>
              <tr><td>443</td><td>Open</td></tr>
            </table>
          </div>
          <div class="box">ìµœê·¼ì ‘ì†ë¡œê·¸
            <table><tr><th>ì‹œê°„</th><th>IP</th></tr>
              <tr><td>12:00</td><td>192.168.0.10</td></tr>
              <tr><td>12:05</td><td>192.168.0.11</td></tr>
            </table>
          </div>
          <div class="box">ì¼ì¼ ì´ë©”ì¼ ì•Œë¦¼í˜„í™©
            <ul>
              <li>ê´€ë¦¬ì ì•Œë¦¼ ì „ì†¡ ì™„ë£Œ</li>
              <li>ì •ì±… ì•Œë¦¼ ëŒ€ê¸°</li>
              <li>ì„œë²„ìƒíƒœ ì•Œë¦¼ ì™„ë£Œ</li>
            </ul>
          </div>
        </div>`;
      new Chart(document.getElementById('chart1'),{type:'line',
        data:{labels:["0ì‹œ","4ì‹œ","8ì‹œ","12ì‹œ","16ì‹œ","20ì‹œ"],
          datasets:[{label:"í–‰ë™ê¸°ë°˜",data:[5,7,3,8,6,9],borderColor:"red",fill:false},
                    {label:"íŒ¨í„´ê¸°ë°˜",data:[3,4,6,2,7,5],borderColor:"blue",fill:false}]}}); 
      new Chart(document.getElementById('chart2'),{type:'bar',
        data:{labels:["ì •ì±…A","ì •ì±…B","ì •ì±…C"],
          datasets:[{label:"íƒì§€ ê±´ìˆ˜",data:[12,19,7],backgroundColor:["red","orange","green"]}]}}); 
      new Chart(document.getElementById('chart3'),{type:'pie',
        data:{labels:["Critical","High","Medium","Low"],
          datasets:[{data:[5,10,15,20],backgroundColor:["red","orange","yellow","green"]}]}}); 
    }

    // --- ë³´ì•ˆ ì´ë²¤íŠ¸ ë¶„ì„ ---
    else if(title==="ë³´ì•ˆ ì´ë²¤íŠ¸ ë¶„ì„"){
      content.innerHTML=`
        <div class="dashboard">
          <div class="top-filter">
            <div class="row g-2">
              <div class="col-md-2"><select class="form-select bg-dark text-white form-select-sm">
                <option>í–‰ë™ê¸°ë°˜</option><option>íŒ¨í„´ê¸°ë°˜</option><option>ì •ì±…ê¸°ë°˜</option></select></div>
              <div class="col-md-3"><input type="date" class="form-control bg-dark text-white form-control-sm"></div>
              <div class="col-md-3"><input type="time" class="form-control bg-dark text-white form-control-sm"></div>
              <div class="col-md-2 ms-auto text-end">
                <button class="btn-dark-custom btn-sm me-2">ì ìš©</button>
                <button class="btn-dark-custom btn-sm">ì´ˆê¸°í™”</button>
              </div>
            </div>
          </div>
          <div class="charts">
            <div class="card"><h5>ì‹œê°„ëŒ€ë³„ íƒì§€</h5><canvas id="timeChart"></canvas></div>
            <div class="d-flex flex-column gap-2">
              <div class="card flex-fill"><h5>íƒì§€ TOP 10</h5><canvas id="top10Chart"></canvas></div>
              <div class="card flex-fill"><h5>ìœ„í—˜ë„ ë¶„í¬</h5><canvas id="riskChart"></canvas></div>
              <div class="card flex-fill"><h5>íƒì§€ìœ í˜• ë¹„ìœ¨</h5><canvas id="typeChart"></canvas></div>
            </div>
          </div>
          <div class="tables">
            <div class="card"><h5>ì‹œê°„ëŒ€ë³„ íƒì§€ ë¡œê·¸</h5>
              <div class="table-wrapper">
                <table class="table table-dark table-striped">
                  <thead><tr><th>ì‹œê°„</th><th>ì •ì±…</th><th>ìœ„í—˜ë„</th><th>ì¶œë°œì§€</th><th>ì¡°ì¹˜</th></tr></thead>
                  <tbody>
                    <tr><td>2025-09-13 11:50</td><td>SQL Injection</td><td>Critical</td><td>203.0.113.10</td><td>ì°¨ë‹¨</td></tr>
                    <tr><td>2025-09-13 11:45</td><td>Brute Force</td><td>High</td><td>198.51.100.5</td><td>ì°¨ë‹¨</td></tr>
                    <tr><td>2025-09-13 11:40</td><td>Port Scan</td><td>Medium</td><td>192.168.1.100</td><td>íƒì§€ë§Œ</td></tr>
                  </tbody>
                </table>
              </div>
            </div>
            <div class="card"><h5>ìœ„í—˜ë„ ë¶„í¬ (ëª©ë¡)</h5>
              <div class="table-wrapper">
                <table class="table table-dark">
                  <thead><tr><th>ìœ„í—˜ë„</th><th>ê±´ìˆ˜</th></tr></thead>
                  <tbody>
                    <tr><td>Critical</td><td>11</td></tr>
                    <tr><td>High</td><td>71</td></tr>
                    <tr><td>Medium</td><td>87</td></tr>
                    <tr><td>Low</td><td>101</td></tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>`;
      new Chart(document.getElementById('timeChart'),{type:'line',
        data:{labels:['00ì‹œ','03ì‹œ','06ì‹œ','09ì‹œ','12ì‹œ'],
          datasets:[{label:'íƒì§€ ê±´ìˆ˜',data:[3,7,5,12,9],borderColor:'red',fill:false}]}}); 
      new Chart(document.getElementById('top10Chart'),{type:'bar',
        data:{labels:['SQL Injection','Brute Force','Port Scan','XSS'],
          datasets:[{label:'íƒì§€ ê±´ìˆ˜',data:[20,15,8,5],backgroundColor:['#ff4d4d','#ff9933','#3399ff','#ffcc00']}]}}); 
      new Chart(document.getElementById('riskChart'),{type:'doughnut',
        data:{labels:['Critical','High','Medium','Low'],
          datasets:[{data:[11,71,87,101],backgroundColor:['#ff4d4d','#ff9933','#ffcc00','#3399ff']}]}}); 
      new Chart(document.getElementById('typeChart'),{type:'pie',
        data:{labels:['SQL Injection','XSS','Brute Force','Port Scan'],
          datasets:[{data:[25,15,20,10],backgroundColor:['#e74c3c','#9b59b6','#2980b9','#27ae60']}]}}); 
    }

    // --- ë¦¬ì†ŒìŠ¤ ì‚¬ìš©í˜„í™© ---
    else if(title==="ë¦¬ì†ŒìŠ¤ ì‚¬ìš©í˜„í™©"){
      content.innerHTML=`
        <h2>ë¦¬ì†ŒìŠ¤ ì‚¬ìš©í˜„í™©</h2>
        <div style="display:grid; grid-template-columns:repeat(4,1fr); gap:10px; margin-bottom:15px;">
          <div class="box text-center"><h5>CPU</h5><div id="cpuUsage" style="font-size:20px;">0%</div></div>
          <div class="box text-center"><h5>ë©”ëª¨ë¦¬</h5><div id="memoryUsage" style="font-size:20px;">0%</div></div>
          <div class="box text-center"><h5>ìŠ¤í† ë¦¬ì§€</h5><div id="storageUsage" style="font-size:20px;">0%</div></div>
          <div class="box text-center"><h5>ë„¤íŠ¸ì›Œí¬</h5><div id="networkUsage" style="font-size:20px;">0 Mbps</div></div>
        </div>
        <div style="display:grid; grid-template-columns:2fr 1fr; gap:10px; margin-bottom:15px;">
          <div class="box"><h5>ë¦¬ì†ŒìŠ¤ íŠ¸ë Œë“œ</h5><canvas id="resourceTrend"></canvas></div>
          <div class="box"><h5>ì•Œë¦¼ & ìƒíƒœ</h5>
            <ul style="font-size:13px; list-style:none; padding-left:0;">
              <li>09:10 - ìŠ¤í† ë¦¬ì§€ ì‚¬ìš©ë¥  80% ê·¼ì ‘ (ê²½ê³ )</li>
              <li>04:25 - CPU ìŠ¤íŒŒì´í¬ ê°ì§€</li>
              <li>ì–´ì œ 22:11 - ë„¤íŠ¸ì›Œí¬ RX ë¹„ì •ìƒ</li>
            </ul>
            <button class="btn-dark-custom btn-sm mt-2">ì„ê³„ì¹˜ ì´ˆê³¼ì‹œ ì´ë©”ì¼ ì•Œë¦¼</button>
            <button class="btn-dark-custom btn-sm mt-2">ìë™ ì •ì±… Â· ìŠ¤ë¡œí‹€ë§</button>
          </div>
        </div>
        <div class="box"><h5>ìƒì„¸ì •ë³´</h5><p>ë©”ëª¨ë¦¬, ìŠ¤í† ë¦¬ì§€, ë„¤íŠ¸ì›Œí¬ (í–¥í›„ ê°œë°œ ì˜ˆì •)</p></div>`;
      new Chart(document.getElementById('resourceTrend'),{type:'line',
        data:{labels:Array.from({length:12},(_,i)=>(i*5)+":00"),
          datasets:[
            {label:"CPU(%)",data:[20,40,35,60,45,70,55,65,40,50,45,60],borderColor:"red",fill:false},
            {label:"ë©”ëª¨ë¦¬(%)",data:[30,35,40,45,50,55,60,62,58,57,59,60],borderColor:"orange",fill:false},
            {label:"ë„¤íŠ¸ì›Œí¬(Mbps)",data:[100,150,120,200,180,220,210,190,170,160,180,200],borderColor:"blue",fill:false},
            {label:"ìŠ¤í† ë¦¬ì§€(%)",data:[50,52,53,54,55,56,57,58,59,60,61,62],borderColor:"green",fill:false}
          ]}}); 
      setInterval(()=>{document.getElementById("cpuUsage").innerText=Math.floor(Math.random()*100)+"%";
        document.getElementById("memoryUsage").innerText=Math.floor(Math.random()*100)+"%";
        document.getElementById("storageUsage").innerText=(40+Math.floor(Math.random()*60))+"%";
        document.getElementById("networkUsage").innerText=(100+Math.floor(Math.random()*900))+" Mbps";},3000);
    }

    else{
      content.innerHTML=`<h2>${title}</h2><p>ì¤€ë¹„ì¤‘ì¸ í˜ì´ì§€ì…ë‹ˆë‹¤.</p>`;
    }
  }

  function logout(){window.location.href="index.html";}
  let seconds=0;
  setInterval(()=>{seconds++;let m=String(Math.floor(seconds/60)).padStart(2,'0');
    let s=String(seconds%60).padStart(2,'0');document.getElementById("timer").textContent=`${m}:${s}`;},1000);
	dddd
  </script>
</body>
</html>